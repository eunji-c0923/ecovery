<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title th:text="'주문상세 - ' + ${order.orderNumber} + ' - GreenCycle'">GreenCycle - 주문상세</title>
    <!-- 타임리프 CSS 파일 연결 -->
    <link rel="stylesheet" th:href="@{/css/order-detail.css}">
    <!-- 구글 폰트 연결 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 헤더 영역 -->
    <header class="header" id="header">
        <nav class="navbar">
            <div class="nav-container">
                <!-- 로고 섹션 -->
                <a th:href="@{/}" class="logo">
                    <span class="logo-icon">🌱</span>
                    <span class="logo-text">GreenCycle</span>
                </a>
                
                <!-- 네비게이션 메뉴 -->
                <ul class="nav-menu" id="navMenu">
                    <li><a th:href="@{/}">홈</a></li>
                    <li><a th:href="@{/services}">서비스</a></li>
                    <li><a th:href="@{/waste-sorting}">분리배출</a></li>
                    <li><a th:href="@{/free-sharing}">무료나눔</a></li>
                    <li><a th:href="@{/eco-market}">에코마켓</a></li>
                    <li><a th:href="@{/eco-talk}">환경독톡</a></li>
                    <li><a th:href="@{/notices}">공지사항</a></li>
                </ul>
                
                <!-- 우상단 버튼 그룹 - 로그인한 사용자만 -->
                <div class="auth-buttons" th:if="${session.user != null}">
                    <!-- 장바구니 아이콘 -->
                    <a th:href="@{/cart}" class="cart-icon" id="cartIcon">
                        <span class="cart-symbol">🛒</span>
                        <span class="cart-count" id="cartCount" th:text="${session.user.cartCount}">3</span>
                    </a>
                   
                    <!-- 사용자 메뉴 -->
                    <span class="user-welcome" th:text="${session.user.nickname + '님'}">사용자님</span>
                    <a th:href="@{/mypage}" class="btn-mypage">마이페이지</a>
                    <a th:href="@{/logout}" class="btn-logout">로그아웃</a>
                </div>
                
                <!-- 비로그인 상태 -->
                <div class="auth-buttons" th:if="${session.user == null}">
                    <a th:href="@{/login}" class="btn-login">로그인</a>
                    <a th:href="@{/signup}" class="btn-signup">회원가입</a>
                </div>
                
                <!-- 모바일 햄버거 메뉴 -->
                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- 메인 콘텐츠 영역 -->
    <main id="mainContent">
        <!-- 페이지 상단 네비게이션 (breadcrumb) -->
        <section class="breadcrumb-section">
            <div class="container">
                <nav class="breadcrumb">
                    <a th:href="@{/}">홈</a>
                    <span class="breadcrumb-separator">></span>
                    <a th:href="@{/mypage}">마이페이지</a>
                    <span class="breadcrumb-separator">></span>
                    <span class="current-page">주문상세</span>
                </nav>
            </div>
        </section>

        <!-- 주문상세 페이지 헤더 -->
        <section class="order-header">
            <div class="container">
                <div class="order-header-content">
                    <div class="order-title-section">
                        <h1 class="order-title">주문상세</h1>
                        <p class="order-subtitle">주문하신 상품의 상세 정보를 확인할 수 있습니다</p>
                    </div>
                    <!-- 뒤로가기 버튼 -->
                    <button class="btn-back" onclick="history.back()">
                        <span class="back-icon">←</span>
                        <span class="back-text">뒤로가기</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- 주문 정보 섹션 -->
        <section class="order-details">
            <div class="container">
                
                <!-- 주문 기본 정보 카드 -->
                <div class="order-info-card">
                    <div class="card-header">
                        <h2 class="card-title">📋 주문 정보</h2>
                        <!-- 주문 상태 뱃지 - 상태에 따른 조건부 스타일링 -->
                        <div class="order-status-badge" 
                             th:class="'order-status-badge ' + ${order.status.cssClass}"
                             id="orderStatusBadge">
                            <span class="status-text" th:text="${order.status.displayName}">배송완료</span>
                        </div>
                    </div>
                    <div class="order-basic-info">
                        <div class="info-grid">
                            <!-- 주문번호 -->
                            <div class="info-item">
                                <span class="info-label">주문번호</span>
                                <span class="info-value" id="orderNumber" th:text="${order.orderNumber}">ORD-2025010001</span>
                            </div>
                            <!-- 주문일자 -->
                            <div class="info-item">
                                <span class="info-label">주문일자</span>
                                <span class="info-value" id="orderDate" 
                                      th:text="${#temporals.format(order.createdAt, 'yyyy년 M월 d일')}">2025년 1월 15일</span>
                            </div>
                            <!-- 주문자 -->
                            <div class="info-item">
                                <span class="info-label">주문자</span>
                                <span class="info-value" id="orderName" th:text="${order.customer.name}">김환경</span>
                            </div>
                            <!-- 연락처 -->
                            <div class="info-item">
                                <span class="info-label">연락처</span>
                                <span class="info-value" id="orderPhone" th:text="${order.customer.maskedPhone}">010-****-1234</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 주문 상품 정보 카드 -->
                <div class="order-product-card">
                    <div class="card-header">
                        <h2 class="card-title">📦 주문 상품</h2>
                        <span class="product-count" id="productCount" 
                              th:text="'총 ' + ${order.items.size()} + '개 상품'">총 2개 상품</span>
                    </div>
                    <div class="product-list" id="productList">
                        <!-- 타임리프 반복문으로 주문 상품 목록 렌더링 -->
                        <div th:each="item : ${order.items}" class="product-item">
                            <div class="product-image">
                                <img th:src="@{'/api/images/' + ${item.product.imageId}}" 
                                     th:alt="${item.product.name}"
                                     onerror="this.src='data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'><rect fill=\'%23e3f2fd\' width=\'100\' height=\'100\'/><text x=\'50\' y=\'55\' font-size=\'40\' text-anchor=\'middle\'>📦</text></svg>'">
                            </div>
                            <div class="product-details">
                                <h3 class="product-name" th:text="${item.product.name}">상품명</h3>
                                <p class="product-description" th:text="${item.product.description}">상품 설명</p>
                                <div class="product-options" th:if="${item.selectedOptions != null}">
                                    <!-- 선택된 옵션들 표시 -->
                                    <span th:each="option : ${item.selectedOptions}" 
                                          class="option-item" 
                                          th:text="${option.name + ': ' + option.value}">옵션</span>
                                </div>
                            </div>
                            <div class="product-quantity">
                                <span class="quantity-label">수량</span>
                                <span class="quantity-value" th:text="${item.quantity} + '개'">수량</span>
                            </div>
                            <div class="product-price">
                                <span class="unit-price" 
                                      th:text="${#numbers.formatInteger(item.unitPrice, 3)} + '원'">단가</span>
                                <span class="total-price" 
                                      th:text="${#numbers.formatInteger(item.totalPrice, 3)} + '원'">총액</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 배송 정보 카드 -->
                <div class="delivery-info-card">
                    <div class="card-header">
                        <h2 class="card-title">🚚 배송 정보</h2>
                        <!-- 배송 추적 버튼 - 배송 중이거나 배송 완료인 경우에만 표시 -->
                        <button class="btn-track-delivery" 
                                th:if="${order.delivery.trackingNumber != null}" 
                                th:onclick="|trackDelivery('${order.delivery.trackingNumber}')|">
                            <span class="track-icon">🔍</span>
                            <span class="track-text">배송조회</span>
                        </button>
                    </div>
                    <div class="delivery-details">
                        <!-- 배송 상태 타임라인 -->
                        <div class="delivery-status">
                            <div class="status-timeline">
                                <!-- 배송 단계별 표시 - 타임리프로 동적 렌더링 -->
                                <div th:each="status, statusStat : ${order.delivery.statusHistory}" 
                                     th:class="'timeline-step ' + ${status.cssClass} + (${statusStat.last} ? ' current' : '')"
                                     th:classappend="${status.completed} ? ' completed' : ''">
                                    <div class="step-icon" th:text="${status.icon}">📦</div>
                                    <div class="step-info">
                                        <span class="step-title" th:text="${status.title}">단계명</span>
                                        <span class="step-date" 
                                              th:text="${status.timestamp != null ? #temporals.format(status.timestamp, 'yyyy.MM.dd HH:mm') : ''}">시간</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 배송지 정보 -->
                        <div class="delivery-address">
                            <h3 class="address-title">배송지 정보</h3>
                            <div class="address-details">
                                <div class="address-item">
                                    <span class="address-label">받는분</span>
                                    <span class="address-value" th:text="${order.delivery.recipient.name}">받는분 이름</span>
                                </div>
                                <div class="address-item">
                                    <span class="address-label">연락처</span>
                                    <span class="address-value" th:text="${order.delivery.recipient.maskedPhone}">연락처</span>
                                </div>
                                <div class="address-item">
                                    <span class="address-label">주소</span>
                                    <span class="address-value">
                                        <span th:text="${order.delivery.address.fullAddress}">주소</span><br>
                                        <span th:text="${order.delivery.address.detailAddress}" th:if="${order.delivery.address.detailAddress}">상세주소</span>
                                    </span>
                                </div>
                                <div class="address-item" th:if="${order.delivery.memo}">
                                    <span class="address-label">배송요청사항</span>
                                    <span class="address-value" th:text="${order.delivery.memo}">배송 요청사항</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 결제 정보 카드 -->
                <div class="payment-info-card">
                    <div class="card-header">
                        <h2 class="card-title">💳 결제 정보</h2>
                    </div>
                    <div class="payment-details">
                        <!-- 결제 금액 요약 -->
                        <div class="payment-summary">
                            <div class="summary-row">
                                <span class="summary-label">상품금액</span>
                                <span class="summary-value" 
                                      th:text="${#numbers.formatInteger(order.payment.productAmount, 3)} + '원'">상품금액</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">배송비</span>
                                <span class="summary-value" 
                                      th:text="${#numbers.formatInteger(order.payment.deliveryFee, 3)} + '원'">배송비</span>
                                <span class="summary-note" th:if="${order.payment.freeDelivery}">(50,000원 이상 무료배송)</span>
                            </div>
                            <div class="summary-row discount" th:if="${order.payment.discountAmount > 0}">
                                <span class="summary-label">할인금액</span>
                                <span class="summary-value" 
                                      th:text="'-' + ${#numbers.formatInteger(order.payment.discountAmount, 3)} + '원'">할인금액</span>
                                <span class="summary-note" th:text="'(' + ${order.payment.discountReason} + ')'" th:if="${order.payment.discountReason}">할인사유</span>
                            </div>
                            <div class="summary-row used-points" th:if="${order.payment.usedPoints > 0}">
                                <span class="summary-label">사용 포인트</span>
                                <span class="summary-value" 
                                      th:text="'-' + ${#numbers.formatInteger(order.payment.usedPoints, 3)} + '원'">사용 포인트</span>
                            </div>
                            <div class="summary-row total">
                                <span class="summary-label">최종결제금액</span>
                                <span class="summary-value" 
                                      th:text="${#numbers.formatInteger(order.payment.finalAmount, 3)} + '원'">최종결제금액</span>
                            </div>
                        </div>
                        
                        <!-- 결제 방법 정보 -->
                        <div class="payment-method">
                            <h3 class="method-title">결제 방법</h3>
                            <div class="method-details">
                                <!-- 결제 방법별 정보 표시 -->
                                <div th:each="method : ${order.payment.methods}" class="method-item">
                                    <span class="method-icon" th:text="${method.icon}">💳</span>
                                    <div class="method-info">
                                        <span class="method-name" th:text="${method.name}">결제방법</span>
                                        <span class="method-detail" th:text="${method.detail}">상세정보</span>
                                        <span class="method-date" 
                                              th:text="'결제일시: ' + ${#temporals.format(method.paidAt, 'yyyy.MM.dd HH:mm')}">결제일시</span>
                                    </div>
                                    <span class="method-amount" 
                                          th:text="${#numbers.formatInteger(method.amount, 3)} + '원'">결제금액</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 주문 관리 버튼 섹션 -->
                <div class="order-actions-card">
                    <div class="card-header">
                        <h2 class="card-title">⚙️ 주문 관리</h2>
                    </div>
                    <div class="action-buttons">
                        <!-- 주문 상태에 따라 버튼 표시/숨김 처리 -->
                        
                        <!-- 상품후기 작성 버튼 - 배송완료 후에만 표시 -->
                        <button class="btn-action btn-review" 
                                th:if="${order.status == T(com.greencycle.model.OrderStatus).DELIVERED && !order.hasReview}" 
                                th:onclick="|writeReview(${order.id})|">
                            <span class="btn-icon">⭐</span>
                            <span class="btn-text">상품후기 작성</span>
                        </button>
                        
                        <!-- 재주문 버튼 - 배송완료 후에만 표시 -->
                        <button class="btn-action btn-reorder" 
                                th:if="${order.status == T(com.greencycle.model.OrderStatus).DELIVERED}" 
                                th:onclick="|reorder(${order.id})|">
                            <span class="btn-icon">🔄</span>
                            <span class="btn-text">재주문</span>
                        </button>
                        
                        <!-- 주문취소 버튼 - 결제완료 상태에서만 표시 -->
                        <button class="btn-action btn-cancel" 
                                th:if="${order.status == T(com.greencycle.model.OrderStatus).PAID}" 
                                th:onclick="|cancelOrder(${order.id})|">
                            <span class="btn-icon">❌</span>
                            <span class="btn-text">주문취소</span>
                        </button>
                        
                        <!-- 교환/반품 버튼 - 배송완료 후 7일 이내에만 표시 -->
                        <button class="btn-action btn-exchange" 
                                th:if="${order.canExchange}" 
                                th:onclick="|requestExchange(${order.id})|">
                            <span class="btn-icon">🔄</span>
                            <span class="btn-text">교환/반품</span>
                        </button>
                        
                        <!-- 주문문의 버튼 - 항상 표시 -->
                        <button class="btn-action btn-inquiry" 
                                th:onclick="|orderInquiry(${order.id})|">
                            <span class="btn-icon">❓</span>
                            <span class="btn-text">주문문의</span>
                        </button>
                        
                        <!-- 영수증 다운로드 버튼 - 결제완료 후에만 표시 -->
                        <button class="btn-action btn-receipt" 
                                th:if="${order.payment.isPaid}" 
                                th:onclick="|downloadReceipt(${order.id})|">
                            <span class="btn-icon">📄</span>
                            <span class="btn-text">영수증 다운로드</span>
                        </button>
                    </div>
                    
                    <!-- 주의사항 -->
                    <div class="order-notes">
                        <h3 class="notes-title">📌 주문 관련 안내</h3>
                        <ul class="notes-list">
                            <li>배송완료 후 7일 이내에 교환/반품 신청이 가능합니다.</li>
                            <li>상품후기 작성 시 추가 포인트를 적립해드립니다.</li>
                            <li>친환경 포장재 사용으로 지구를 보호합니다. 🌍</li>
                            <li>문의사항은 고객센터(1588-1234) 또는 온라인으로 접수 가능합니다.</li>
                        </ul>
                    </div>
                </div>

                <!-- 포인트 적립 정보 - 로그인한 사용자이고 포인트 적립이 있는 경우 -->
                <div class="points-info-card" th:if="${session.user != null && order.earnedPoints > 0}">
                    <div class="card-header">
                        <h2 class="card-title">🌟 포인트 적립</h2>
                    </div>
                    <div class="points-details">
                        <div class="points-earned">
                            <div class="points-icon">🎁</div>
                            <div class="points-info">
                                <h3>환경 포인트 적립 완료!</h3>
                                <p th:text="'총 ' + ${#numbers.formatInteger(order.earnedPoints, 3)} + 'P가 적립되었습니다.'">포인트 적립 내용</p>
                                <div class="points-breakdown" th:if="${order.pointsBreakdown != null}">
                                    <!-- 포인트 적립 상세 내역 -->
                                    <div th:each="breakdown : ${order.pointsBreakdown}" class="breakdown-item">
                                        <span th:text="${breakdown.reason}">적립 사유</span>
                                        <span th:text="'+' + ${breakdown.points} + 'P'">적립 포인트</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </main>

    <!-- 푸터 영역 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="logo" style="margin-bottom: 20px;">
                        <span class="logo-icon">🌱</span>
                        <span class="logo-text">GreenCycle</span>
                    </div>
                    <p>첨단 기술로 실현하는 스마트하고 지속 가능한 환경 플랫폼</p>
                </div>
                <div class="footer-section">
                    <h4>서비스</h4>
                    <ul>
                        <li><a th:href="@{/waste-sorting}">스마트 분리배출</a></li>
                        <li><a th:href="@{/free-sharing}">무료나눔</a></li>
                        <li><a th:href="@{/eco-market}">에코마켓</a></li>
                        <li><a th:href="@{/eco-talk}">환경독톡</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>회사정보</h4>
                    <ul>
                        <li><a href="#">회사소개</a></li>
                        <li><a href="#">기술 특허</a></li>
                        <li><a href="#">연구개발</a></li>
                        <li><a href="#">채용정보</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>고객지원</h4>
                    <ul>
                        <li><a href="#">문의하기</a></li>
                        <li><a href="#">이용가이드</a></li>
                        <li><a href="#">기술지원</a></li>
                        <li><a href="#">고객센터</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 GreenCycle. All rights reserved.</p>
                <div class="footer-links">
                    <a href="#">개인정보처리방침</a>
                    <a href="#">이용약관</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- 주문취소 확인 모달 -->
    <div class="modal-overlay" id="cancelOrderModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>❌ 주문 취소</h3>
                <button class="modal-close" onclick="closeCancelModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p>정말로 주문을 취소하시겠습니까?</p>
                <div class="cancel-reason-section">
                    <h4>취소 사유를 선택해주세요</h4>
                    <select id="cancelReason" class="form-select">
                        <option value="">취소 사유 선택</option>
                        <option value="change_mind">단순 변심</option>
                        <option value="wrong_order">잘못 주문</option>
                        <option value="found_cheaper">더 저렴한 곳 발견</option>
                        <option value="delivery_delay">배송 지연</option>
                        <option value="other">기타</option>
                    </select>
                    <textarea id="cancelNote" placeholder="기타 사유를 입력해주세요 (선택사항)" rows="3"></textarea>
                </div>
                <div class="refund-info">
                    <h4>환불 안내</h4>
                    <p>결제하신 금액은 결제수단에 따라 3-7일 내에 환불처리됩니다.</p>
                    <p>사용하신 포인트는 즉시 복원됩니다.</p>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeCancelModal()">취소</button>
                <button class="btn btn-danger" onclick="confirmCancelOrder()">주문 취소</button>
            </div>
        </div>
    </div>

    <!-- 교환/반품 신청 모달 -->
    <div class="modal-overlay" id="exchangeModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>🔄 교환/반품 신청</h3>
                <button class="modal-close" onclick="closeExchangeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="exchangeForm">
                    <div class="form-group">
                        <label>신청 유형</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="exchangeType" value="exchange">
                                <span>교환</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="exchangeType" value="return">
                                <span>반품</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>사유</label>
                        <select name="reason" required>
                            <option value="">사유를 선택해주세요</option>
                            <option value="defective">상품 불량</option>
                            <option value="different">주문과 다른 상품</option>
                            <option value="damaged">배송 중 파손</option>
                            <option value="size_issue">사이즈 문제</option>
                            <option value="other">기타</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>상세 내용</label>
                        <textarea name="description" placeholder="자세한 사유를 입력해주세요" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>첨부 사진 (선택)</label>
                        <input type="file" name="attachments" multiple accept="image/*">
                        <small>상품 상태를 확인할 수 있는 사진을 첨부해주세요</small>
                    </div>
                </form>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeExchangeModal()">취소</button>
                <button class="btn btn-primary" onclick="submitExchangeRequest()">신청하기</button>
            </div>
        </div>
    </div>

    <!-- JavaScript 파일 연결 -->
    <script th:src="@{/js/order-detail.js}"></script>
    
    <!-- 타임리프 인라인 스크립트 -->
    <script th:inline="javascript">
        // 서버에서 전달받은 데이터를 JavaScript 변수로 설정
        var order = /*[[${order}]]*/ {};
        var user = /*[[${session.user}]]*/ null;
        var csrfToken = /*[[${_csrf.token}]]*/ '';
        var csrfHeader = /*[[${_csrf.headerName}]]*/ '';
        
        // API URL 설정
        var orderCancelUrl = /*[[@{/api/orders/{id}/cancel}]]*/ '/api/orders/{id}/cancel';
        var exchangeRequestUrl = /*[[@{/api/orders/{id}/exchange}]]*/ '/api/orders/{id}/exchange';
        var reviewWriteUrl = /*[[@{/orders/{id}/review}]]*/ '/orders/{id}/review';
        var reorderUrl = /*[[@{/api/orders/{id}/reorder}]]*/ '/api/orders/{id}/reorder';
        var receiptDownloadUrl = /*[[@{/api/orders/{id}/receipt}]]*/ '/api/orders/{id}/receipt';
        var trackingUrl = /*[[@{/api/delivery/tracking/}]]*/ '/api/delivery/tracking/';
        var inquiryUrl = /*[[@{/support/orders/{id}}]]*/ '/support/orders/{id}';
        
        // 주문 상태 코드 매핑
        var OrderStatus = {
            PENDING: 'PENDING',
            PAID: 'PAID',
            PREPARING: 'PREPARING',
            SHIPPED: 'SHIPPED',
            DELIVERED: 'DELIVERED',
            CANCELLED: 'CANCELLED',
            REFUNDED: 'REFUNDED'
        };
        
        // 배송 추적 설정
        var deliveryTracking = {
            trackingNumber: /*[[${order.delivery.trackingNumber}]]*/ null,
            carrier: /*[[${order.delivery.carrier}]]*/ null,
            trackingUrl: /*[[${order.delivery.trackingUrl}]]*/ null
        };
        
        // 교환/반품 가능 기간 (일)
        var exchangeReturnPeriod = /*[[${exchangeReturnPeriod}]]*/ 7;
        
        // 파일 업로드 설정
        var maxFileSize = 5 * 1024 * 1024; // 5MB
        var allowedFileTypes = ['image/jpeg', 'image/png', 'image/gif'];
        var maxFileCount = 5;
        
        // 메시지 설정
        var messages = {
            cancelSuccess: '주문이 성공적으로 취소되었습니다.',
            cancelError: '주문 취소 중 오류가 발생했습니다.',
            exchangeSuccess: '교환/반품 신청이 완료되었습니다.',
            exchangeError: '교환/반품 신청 중 오류가 발생했습니다.',
            reorderSuccess: '장바구니에 상품이 추가되었습니다.',
            reorderError: '재주문 중 오류가 발생했습니다.'
        };
    </script>
</body>
</html>